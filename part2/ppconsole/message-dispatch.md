# 消息分发策略

客服管理员可以在PPConsole的 **团队设置-消息分发** 设置PPCom的消息分发策略。这会影响PPCom用户在建立和客服的对话时，哪些客服会加入到对话中。

------

#### 目标客服

目标客服指的是PPCom用户请求建立和客服间的对话时，可以加入到这个对话中的客服。

当用户点击PPCom`聊天图标`或者`开始对话输入框`时，如果之前没有建立过对话，那么系统就会寻找能为他服务的`目标客服`，之后建立该用户和`目标客服`之间的对话。

系统寻找`目标客服`的结果和客服的状态息息相关，客服的状态有：
  
    > 离线：PC上登录的客服，一旦主动登出或者与服务器断开连接，即视为离线；移动设备上登录的客服，只有在主动登出后才视为离线。
    > 在线：客服在PC上登录，并保持和服务器的连接，视为在线；在移动设备上登录，即使断开和服务器连接，也视为在线，只有在主动退出登录后，才视为离线。
    > 忙碌：客服登录后，处于在线状态时，可以主动把自己的状态设为忙碌，系统不会给处于忙碌状态下的客服分配对话。
    > 空闲：客服登录后，处于在线状态时，可以主动把自己的状态设为空闲，当PPCom用户请求建立和客服对话时，处于空闲状态的客服有机会加入到对话中。
    
系统寻找`目标客服`的时候，会排除处于离线或忙碌状态的客服，然后根据消息分发策略的不同，从处于在线且空闲状态的客服中选取一个或多个作为`目标客服`。

#### 消息分发策略

消息分发策略一共有三种：

##### All

ALL策略下，PPCom用户在和客服建立对话时，系统总是会把客服团队里所有的`目标客服`加入到这个对话中。

##### SMART

SMART策略下，用户在和客服建立对话时，系统会从客服团队里的`目标客服`中选取一个客服加入到这个对话中。

##### GROUP

GROUP策略下，用户有两种方式建立对话，第一种是通过点击PPCom`聊天图标`或者`开始对话输入框`建立对话外（通用方法），第二种是通过点击PPCom`对话列表界面`里的某个客服组建立对话。

当客服管理员选择GROUP策略时，至少需要在客服团队下创建一个`首选组`，并在这个客服组里添加一些客服。客服管理员可以建立多个客服组，这样PPCom会在对话列表界面显示这些客服组，用户可以单独和某一个客服组建立对话。

当用户用第一种方法建立对话时，系统会从`首选组`里选出一个`目标客服`加入到对话中。

当用户用第二种方法建立对话时，系统会从对应客服组选出一个`目标客服`加入到对话中。

